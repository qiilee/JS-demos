## 创智播客 前端与移动开发学院 javascript面向对象编程与高级

### 复习
- 递归  递归的概念,作用,使用场景,注意事项
- 词法作用域
- 变量提升
- 变量的搜索原则与设置原则（比较与属性搜索原则的不同）
- 作用域链练习

### 自执行函数(立即执行的函数表达式)
·函数声明不能执行，函数表达式能够执行。
```
函数表达式与函数声明的区别：
函数声明是通过function关键字声明的函数
函数表达式能够执行，而函数声明不能够执行。
```
·把函数声明转换为函数表达式

- 在javascript里，括号内部不能包含语句，当解析器对代码进行解释的时候，先碰到了()，然后碰到function关键字就会自动将()里面的代码识别为函数表达式而不是函数声明。
- 在函数声明前面加一个一元运算符，就会将之后的函数声明转换为函数表达式。

### 函数参数与变量提升
- 把传入的参数先进行提升到当前作用域顶部，然后再进行变量提升
- 传入实参就声明并且赋值，没有传入实参就只发生声明不发生赋值

### 变量提升的顺序
- var 关键字和function关键字声明的变量，先出现哪个，就先提升哪个。
### 闭包

#### 闭包的概念


计算机科学中的闭包
    ```
在计算机科学中，闭包（英语：Closure），又称词法闭包（Lexical Closure）或函数闭包（function closures），是引用了自由变量的函数。

这个被引用的自由变量将和这个函数一同存在，即使已经离开了创造它的环境也不例外。
所以，有另一种说法认为闭包是由函数和与其相关的引用环境组合而成的实体。

简单理解（基本）
函数可以形成作用域，这个作用域就是闭包


-《js权威指南》中的闭包
```
和其他大多数现代编程一样，JS也采用词法作用域，也就是说，函数的执行依赖于变量作用域，这个作用域是在函数定义时决定的，
而不是函数调用时决定的。为了实现这种词法作用域，JS函数对象的内部状态不仅包含函数的代码逻辑，还必须引用当前的作用域链。
闭包概念：函数对象可以通过作用域链相互关联起来，函数体内部的变量都可以保存在函数作用域内，这种特性在计算机科学文献中称为"闭包"。

从技术的角度讲，所有的JS函数都是闭包：它们都是对象，它们都关联到作用域链。
定义大多数函数时的作用域链在调用函数时依然有效，但这并不影响闭包。
当调用函数时闭包所指向的作用域链和定义函数时的作用域链不是同一个作用域时，事情就变得非常微妙。(这种情况是我们js通常意义上的闭包，
也是我们提到闭包这一概念所指的闭包)

function outer(){
    function inner(){
    }
    return inner;
}
var f = outer();

当一个函数嵌套了另外一个函数，外部函数将嵌套的函数对象作为返回值返回的时候往往会发生这种事情。
有很多强大的编程技术都利用到了这类嵌套的函数闭包，以至于这种编程模式在JS中非常常见。
```


#### 闭包的作用(想办法突破作用域的限制，从函数外部访问到函数内部的数据)

·访问和修改函数内部的数据
```
function fn(){
    var num = Math.random();
    return num;
}
var num1 = fn();
var num2 = fn();
console.log(num1===num2)//?
```

```
function fn(){
    var obj={};
    return obj;
}
var obj1 = fn();
var obj2= fn();
console.log(obj1===obj2)//?
```

·使用闭包获取到函数内部的数据
```
function fn(){
    var obj = {}
    return function(){
        return obj;
    }
}
var f= fn();
var obj1 = f();
var obj2 = f();
console.log(obj1===obj2)//
```






